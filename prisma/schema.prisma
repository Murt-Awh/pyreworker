generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("mongoUri")
}

/// Used for saving info about user descriptions
model Bio {
  /// MongoDB ID, configured as the primary key
  id String @id @default(auto()) @map("_id") @db.ObjectId

  /// Discord ID of the user, must be unique 
  /// as it's used to identify the user this bio belongs to
  discordId String @unique

  /// The user's description
  description String
}

/// Used for saving info about referral codes
model Referral {
  /// MongoDB ID, configured as the primary key
  id String @id @default(auto()) @map("_id") @db.ObjectId

  /// Discord ID of the user, must be unique 
  /// as it's used to identify the user this referral belongs to
  discordId String @unique

  /// The user's referral code
  code String
  
  /// The services this code is applicable to
  services String[]

  /// The date this referral code was created
  createdAt DateTime @default(now())

  /// The description

  description String

  /// The partner name
  partnerName String

  /// The discount percentage
  discountPercentage Int
}

// The above model is highly experimental and is only deployed for foundation.
